#!/usr/bin/env bash

set -eu

MBREPO=~/.m2/repository/org/metaborg
MBVERSION=2.6.0-SNAPSHOT

SPOOFAXPATH=../lang.java/target/lang.java-1.1.0-SNAPSHOT.spoofax-language
for lang in dynsem \
            dynsem2coq \
            flowspec.lang \
            meta.lib.spoofax \
            org.metaborg.meta.lang.analysis \
            org.metaborg.meta.lang.aterm \
            org.metaborg.meta.lang.esv \
            org.metaborg.meta.lang.nabl \
            org.metaborg.meta.lang.sdf \
            org.metaborg.meta.lang.spt \
            org.metaborg.meta.lang.stratego \
            org.metaborg.meta.lang.template \
            org.metaborg.meta.lang.ts \
            org.metaborg.meta.lib.analysis \
            org.metaborg.meta.nabl2.ext.dynsem \
            org.metaborg.meta.nabl2.lang \
            org.metaborg.meta.nabl2.runtime \
            org.metaborg.meta.nabl2.shared \
            statix.lang \
            statix.runtime; do
    SPOOFAXPATH=$SPOOFAXPATH:$MBREPO/$lang/$MBVERSION/$lang-$MBVERSION.spoofax-language
done

export SPOOFAXPATH

java -jar ~/slde/master/spoofax-releng.git/nabl/spoofax.analysis.benchmark/target/analysis-benchmark.jar "$@"
